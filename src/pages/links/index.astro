---
// import { Image } from "astro:assets";
// import { getCollection } from "astro:content";

import Tabs from '@xexiu/astro-tabs';

const blogs = {
    latest: [{
        id: 1,
        title: "Test 1",
    }],
    pinned: [{
        id: 2,
        title: "Test 2",
    }],
    private: [{
        id: 3,
        title: "Test 3",
    }]
}

const keys = Object.keys(blogs)

import Layout from '../../layouts/Layout.astro';
import Card from '../../components/cards/Card.astro';
// import Tabs from '../../components/Tabs.astro';
---

<Layout title="RUDY TUESDAY">

    <main>
        <section>
			<h2>LINKS</h2>

			<div class="card-wrapper card-flex">

				<Card
					title="ONLINE"
					icon="fa-globe">
						<ul class="card-list">
							<li><b>FEDIVERSE:</b> 
								<ul>
									<li><b>AETHY.COM:</b> <a href="" class="external">@rudytuesday</a></li>
									<li><b>BARAAG.NET:</b> <a href="https://baraag.net/@rudytuesday" class="external">@rudytuesday</a> <em>(inactive)</em></li>
									<li><b>BLORBO.SOCIAL:</b> <a href="https://blorbo.social/@dollby" class="external">@dollby</a> <em>(inactive)</em></li>
									<li><b>BLUESKY BRIDGE:</b> <em style="font-style:normal">@rudytues.day@bsky.brid.gy</em></li>
								</ul>
							<li><b>BLUESKY:</b> <a href="https://bsky.app/profile/rudytues.day" class="external">@rudytues.day</a></li>
							<li><b>TWITTER:</b> <a href="https://twitter.com/wifefactory" class="external">@wifefactory</a></li>
							<li><b>RETROSPRING:</b> <a href="https://retrospring.net/@rudytuesday" class="external">@rudytuesday</a></li>
							<li><b>AO3:</b> <a href="" class="external">rudytuesday</a> <em>(inactive)</em></li>
							<li><b>DREAMWIDTH:</b> <a href="https://rudytuesday.dreamwidth.org/" class="external">rudytuesday</a> <em>(inactive)</em></li>
							<li><b>COHOST:</b> <a href="https://toybox.rudytues.day/pages/cohost/" class="external">@rudytuesday</a></li>
							<li><b>KO-FI:</b> <a href="https://ko-fi.com/dollby" class="external">dollby</a></li>
							<li><b>THRONE:</b> <a href="https://throne.com/dollby" class="external">dollby</a></li>
							<li><b>BOOSTY:</b> <a href="https://boosty.to/rudytuesday" class="external">rudytuesday</a></li>
							<li><b>ARTISTREE:</b> <a href="https://artistree.io/rudytuesday" class="external">rudytuesday</a></li>
							<li><b>COMMISS.IO:</b> <a href="https://commiss.io/rudytuesday" class="external">rudytuesday</a> <em>(inactive)</em></li>
							<li><b>ITCH.IO:</b> <a href="https://itch.io/profile/rudytuesday" class="external">rudytuesday</a></li>
						</ul>
				</Card>

				<Card
					title="MY SITES"
					icon="fa-code">
						<ul class="card-list">
							<li><a href="https://rudytues.day">rudytues.day</a></li>
							<li><a href="https://ux.rudytues.day">ux.rudytues.day</a></li>
							<li><a href="https://works.rudytues.day">works.rudytues.day</a></li>
							<li><a href="https://toybox.rudytues.day">toybox.rudytues.day</a></li>
							<li><a href="https://toybox.rudytues.day/dollby">toybox.rudytues.day/dollby</a></li>
							<!-- <li><a href="" class="external">dollfreaks.neocities.com</a></li> -->
						</ul>
				</Card>

			</div>

		</section>

		
		<section>
			
			<h2>OTHER</h2>
			
			<div class="card-wrapper">
				<Card
					title="NICETIES"
					icon="fa-gift">
					<h3>WEB</h3>
						<ul class="card-list">
							<li><a class="external" href="http://digitoxin.github.io/snowworld/">snow world</a> a first-person walking sim through yume nikki's snow world</li>
							<li><a class="external" href="https://molleindustria.org/everydaythesamedream/everydaythesamedream.html">every day the same dream</a> a game about alienation and refusal of labour</li>
							<li><a class="external" href="https://www.heavendeluxe.com/scraps/shapequiz">heaven deluxe's shape quiz</a> find out what you are shaped like</li>
							<li><a href="http://tane.us/ac" class="external">tane.us/ac</a> a tane.us web toy that plays animal crossing ost by the hour</li>
							<li><a href="https://makefrontendshitagain.party/" class="external">make frontend shit again</a> remember when frontend was fun?</li>
							<li><a href="https://www.thisman.org/" class="external">thisman.org</a> every night throughout the world hundreds of people dream about this face</li>
							<li><a href="http://www.truegamer.net/SA_911/911%20SATHREAD/" class="external">somethingawful wtc thread</a> site captures from somethingawful on the morning of 9/11</li>
						</ul>
						<h3>VIDEO</h3>
						<ul class="card-list">
							<li><a class="external" href="https://www.skolnickfilms.com/the-music-of-erich-zann">the music of erich zann</a> a film adaptation of lovecraft by jared skolnick</li>
							<li><a href="https://www.catsuka.com/player/hd/vulvine_reine_d_extase" class="external">vulvine reine d'extase</a> a formerly underground erotic student film</li>
							<li><a href="https://www.youtube.com/watch?v=_wubgAIiWpY" class="external">big egg</a> elman511 cracks open the big egg</li>
						</ul>
				</Card>
				<Card
					title="AFFILIATES"
					icon="fa-heart">
								
				</Card>
			</div>

		</section>

		<section>
			<h2>RESOURCES</h2>
			
		<div class="tab-folder">
			<Tabs {keys} tabTitles={['Title for Latest', 'Title for Private', 'Title for Pinned']}>
				{
					(key: string) => {
						return (
							<Fragment>
								<div>{blogs[key].id}</div> // 1, 2, 3
								<div>{blogs[key].title}</div> // Test 1, Test 2, Test 3
							</Fragment>
						);
					}
				}
			</Tabs>
		</div>
		<div class="tab-folder">

			<div role="tablist" aria-label="tabs">

				<button
					role="tab"
					aria-selected="true"
					aria-controls="panel-1"
					id="tab-1"
					tabindex="0"> 
						WEB DEV
				</button>

				<button
					role="tab"
					aria-selected="false"
					aria-controls="panel-2"
					id="tab-2"
					tabindex="-1"> 
						ART & COMICS
				</button>
				
			</div>

			<div 
				id="panel-1" 
				role="tabpanel" 
				tabindex="0" 
				aria-labelledby="tab-1">
				<div class="">
					<h3>GETTING STARTED</h3>
					<ul class="card-list">
						<li><a href="">nero's personal website guide</a></li>
						<li><a href="">sadgrl.online</a></li>
					</ul>

					<h3>TEST</h3>
					<ul class="card-list">
						<li><a href="">nero's personal website guide</a></li>
						<li><a href="">sadgrl.online</a></li>
					</ul>

				</div>
			</div>

			<div
				id="panel-2"
				role="tabpanel"
				tabindex="0"
				aria-labelledby="tab-2"
				hidden >
				<div class="">
					<h1>COLOR THEORY</h1>
					<ul class="card-list">
						<li><a href="">nero's personal website guide</a></li>
						<li><a href="">sadgrl.online</a></li>
					</ul>
				</div>
			</div>

			<div 
				id="panel-3" 
				role="tabpanel" 
				tabindex="0" 
				aria-labelledby="tab-3" 
				hidden >
				<div class="">
					<h1>TEST3</h1>
				</div>
			</div>
		</div>
	</section>

	</main>

</Layout>

<style>

	.card-wrapper {
		margin: 3em auto;
		height: 100%;
		gap: 1.25em;
		display: flex;
		flex-direction: column;
	}

	.card-flex {
		flex-flow: row wrap;
		justify-content: center;
		align-items: center;
		gap: 1.25em;
	}

@media all and (min-width: 700px) {

	.card-wrapper {
		max-width: 800px;
	}
}

</style>
<!-- <script src="../../utility/scripts/tabs.ts"></script> -->
<!-- <script>

window.addEventListener("DOMContentLoaded", () => {
        const tabList = document.querySelector('[role="tablist"]');
        const tabs = tabList!.querySelectorAll(':scope > [role="tab"]');

    // Add a click event handler to each tab
        tabs.forEach((tab) => {
            tab.addEventListener("click", changeTabs);
        });

    // Enable arrow navigation between tabs in the tab list
    // if read hash switch to specific tab
    // s 
    // check
        let tabFocus = 0;

        // 

        tabList!.addEventListener("keydown", (e) => {
            // Move right
            let keyboardEvent = (e as KeyboardEvent);
            if (keyboardEvent.key === "ArrowRight" || keyboardEvent.key === "ArrowLeft") {
                tabs[tabFocus].setAttribute("tabindex", "-1");
                if (keyboardEvent.key === "ArrowRight") {
                    tabFocus++;
                // If we're at the end, go to the start
                    if (tabFocus >= tabs.length) {
                        tabFocus = 0;
                    }
                // Move left
            } else if (keyboardEvent.key === "ArrowLeft") {
                tabFocus--;
                // If we're at the start, move to the end
                if (tabFocus < 0) {
                tabFocus = tabs.length - 1;
                }
            }

            tabs[tabFocus].setAttribute("tabindex", "0");
            (tabs[tabFocus] as HTMLElement).focus();
            }
        });

    function changeTabs() {
        const targetTab = e.target;
        
        const tabList = targetTab.parentNode;
        const tabGroup = tabList.parentNode;

    // Remove all current selected tabs
        tabList
            .querySelectorAll(':scope > [aria-selected="true"]')
            .forEach((t) => t.setAttribute("aria-selected", false));

    // Set this tab as selected
        targetTab.setAttribute("aria-selected", true);

    // Hide all tab panels
        tabGroup
            .querySelectorAll(':scope > [role="tabpanel"]')
            .forEach((p) => p.setAttribute("hidden", true));

    // Show the selected panel
        tabGroup
            .querySelector(`#${targetTab.getAttribute("aria-controls")}`)
            .removeAttribute("hidden");

        }
        
    })



</script> -->

